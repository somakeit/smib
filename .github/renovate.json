{
  "extends": [
    "config:recommended",
    ":maintainLockFilesWeekly",
    ":label(dependencies)"
  ],
  "schedule": [
    "every weekend"
  ],
  "timezone": "Europe/London",
  "fetchChangeLogs": "off",
  "minimumReleaseAge": "1 day",
  "prHourlyLimit": 2,
  "prConcurrentLimit": 2,
  "dependencyDashboard": true,
  "prCreation": "immediate",
  "assignees": [
    "sam57719"
  ],
  "reviewers": [
    "sam57719"
  ],
  "labels": ["dependencies"],
  "pruneStaleBranches": true,
  "packageRules": [
    {
      "matchPackageNames": [
        "asyncio"
      ],
      "enabled": false
    },
    {
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "groupName": "all non-major updates"
    },
    {
      "matchPackageNames": ["python"],
      "matchManagers": ["pep621", "dockerfile"],
      "groupName": "Python version",
      "addLabels": ["dependencies/python-version"],
      "rangeStrategy": "bump"
    },
    {
      "matchManagers": [
        "dockerfile",
        "docker-compose"
      ],
      "matchPackageNames": ["*", "!python"],
      "minimumReleaseAge": "3 days",
      "addLabels": ["dependencies/docker"]
    },
    {
      "matchManagers": ["pep621"],
      "matchPackageNames": ["*"],
      "rangeStrategy": "bump",
      "addLabels": ["dependencies/python-packages"],
      "skipArtifactsUpdate": false
    }
  ],
  "enabledManagers": [
    "pep621",
    "dockerfile",
    "docker-compose",
    "custom.regex"
  ],
  "pre-commit": {
    "enabled": true
  },
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/^Dockerfile$/"
      ],
      "matchStrings": [
        "ENV UV_VERSION=(?<currentValue>.*?)\\n"
      ],
      "depNameTemplate": "astral-sh/uv",
      "datasourceTemplate": "github-releases"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/^compose.yml$/"
      ],
      "matchStrings": [
        "image:\\s*mongo:\\${SMIB_COMPOSE_MONGO_DB_TAG:-?(?<currentValue>[^\\s]+)}"
      ],
      "depNameTemplate": "mongo",
      "datasourceTemplate": "docker"
    }
  ]
}
